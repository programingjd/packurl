<!DOCTYPE html>
<html>
<head>
<title>Packurl</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<link rel="manifest" href="pwa.json">
</head>
<style>
*{margin:0;padding:0;box-sizing:border-box}
html{width:100%;height:100%;background:#282828;color:#aaa;font:300 clamp(2vw, calc(1vw + 1vh), 32pt) monospace}
body{min-height:100%;display:grid;place-content:center;padding:2em}
</style>
<body>
<section>
  What is Packurl?
</section>
<script type="module">
if(!navigator||!navigator.serviceWorker){
  console.warn('Service workers are not supported.');
}else if(navigator.serviceWorker.controller){
  console.info('Service worker already installed.');
}else{
  try{
    const registration=navigator.serviceWorker.register('sw.mjs',{type:'module',updateViaCache:'all'});
    console.info('Service worker registered.');
    console.log(registration);
    const worker=registration.installing||registration.waiting||registration.active;
    if(worker.state==='activated'){
      console.info('Service worker activated.');
    }else{
      worker.addEventListener('statechange',_=>{
        if(worker.state==='activated') console.info('Service worker activated.');
      });
    }
  }catch(err){
    console.error('Failed to install service worker.',err);
  }
}
</script>
</body>
</html>
